# Java 基础

## 介绍

### JVM

**==Java Virtual Machine==** Java 虚拟机

是 Java 程序的运行环境，用来实现跨平台。



### JRE 和 JDK

- JRE（Java Runtime Environment）JRE 是 Java 程序的运行环境，包含 JVM 和核心类库。

  用来运行程序。

- JDK（Java Development Kit）JDK 是 Java 程序的开发工具包，包含 JRE 和开发工具。

  用来开发程序。



### 程序运行

`*.java` 是源代码，经过 `javac.exe`编译成 java 字节码文件，然后通过`java.exe`运行。

`javac.exe`是编译器。`java.exe`是解释器。

HelloWrold.java

```java
// 类名要与文件名相同
public class HelloWorld {
    public static void main(String[] args) {
      System.out.println("Hello Wrold!");
    }
}
```

Shell

```shell
> javac HelloWorld.java
> java HelloWorld
Hello World!
> _
```





## 特别注意

### Java 数据类型

- `null`是 Java 的空数据，且不允许输出。

  注意，Java 中的字符常量`'A'`不允许是空字符，即不允许出现`''`。

  ```java
  // 非法
  System.out.println(null);
  System.out.println('');
  ```

- `char`是 Java 的字符类型。

  与 C/C++ 不同的是，Java 中的 `char`占两个字节数据，`'汉'`也可以是一个字符类型数据。

- `long`类型在 Java 中占 8 个字节



### Java 类型检查

!!! 注意，Java 是==**静态强类型语言**==，即不怎么会容忍隐式转换的出现。

在 C/C++ 中，也许下面这段代码是正确的：

```cpp
float f = 1.3;
```

但他实际上发生了从 `double `到 `float `的隐式转换，而 Java 则不允许出现这样的隐式转换。

在 Java 中，必须要这样写：

```java
float f = 1.3F;
```

加后缀`F`代表将其转换为`float`类型。





## jshell

在 shell 中输入`jshell`运行`jshell`。

`jshell`是与 Java 的交互环境。





## Java 项目结构

Project → Module → Package → Class

  项目            模块              包              类

### Package

用来对类进行分类。

定义：

表明当前类位于哪个包里

```java
package {packageName};
```

导入：

```java
import {packageName}
```





## Java 数据

### 基本介绍

Java 中的数据类型可分为 `基本数据类型` 和 `引用数据类型`

基本数据类型：char byte shrot int long float double boolean

引用数据类型：对象、数组......



### Java 中的常量

关键字：`final`

可以修饰变量，方法和类。表示"最终的"，不可更改。

`final`修饰类时，表示不可派生：

```java
final class Type() {
    // ...
}
```

`final`修饰变量时，必须初始化，且表示该变量是常量，无法更改。

```java
final int field = 0;
```

`final`修饰方法时，表示该方法无法被重写，是最终的版本。

```java
final void method() {
    // ...
}
```

!!!注意，`final`与 C++ 中的`const`不同，它关注的是变量直接保存的数据。对于引用类型来说（他就是一个指针），`final`禁止地址的变化，但不禁止更改该地址处的数据。



### Java 中的数组

数组是引用类型

- 创建一个数组：

  ```java
  int[] array = new int[10];
  ```

  ```java
  int[] array = new int[] {...};
  // 等价于
  int[] array = {...};
  ```

- 直接输出数组变量：

  ```java
  System.out.println(arr);
  ```

  > [I@10f87f48

  此时是隐式调用了 arr 的 toString 方法。

  toString 方法的实现：

  ```java
  public String toString() {
      return getClass().getName() + "@" + Integer.toHexString(hashCode());
  }
  ```

  返回 `类名 + @ + 内存地址的哈希值`

- 以可读的方式输出数组

  ```java
  System.out.println(Arrays.toString(arr));
  ```

  > [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

- 数组的长度

  ```java
  arr.lengh;
  ```

- 数组的遍历的代码片段

  ```java
  arr.fori
  ```

  ```cpp
  for (int i = 0; i < arr.length; i++) {
      
  }
  ```

  

### Java 中的内存分配

Java 的内存分为五个区域：

栈、堆、方法区、本地方法栈、寄存区。

调用方法时，会将方法区中的方法 copy 一份到栈中执行。





## IDEA

### 常用快捷键

| 键                     | 说明                 |
| ---------------------- | -------------------- |
| `Ctrl + Alt + Space`   | 唤出代码补全         |
| `Ctrl + Shift + 方向`  | 移动整行             |
| `Ctrl + D`             | 复制整行             |
| `Ctrl + Y`             | 删除行               |
| `Ctrl + W`             | 扩展选取             |
| `Ctrl + Shift + W`     | 取消扩展选取         |
| `Ctrl + Alt + L`       | 格式化代码           |
| `Shift + Alt`          | 多选                 |
| `鼠标中键`             | 列选择               |
| `Shift + Alt + Insert` | 切换行选择和列选择   |
| `Shift + F6`           | 重构                 |
| `Alt + Enter`          | 导入包，自动修正代码 |
| `Ctrl + Alt + M`       | 抽取方法             |


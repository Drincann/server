# Java 常用API

## 获取时间戳

```java
System.currentTimeMillis();
```



## Object

**==Object 是 Java 所有对象的根类==**

常用方法：

- `toString`

  toString() 方法返回一个由 类名、“@” 和此对象哈希码的无符号十六进制数 组成。

  ```java
  getClass().getName() + '@' + Integer.toHexString(hashCode());
  ```

  当有合适的参数匹配时，这个方法通常会被隐式调用。一般要重写该方法。

- `equals`

  用来比较对象是否相等。

  Object 中的实现是比较地址：

  ```java
  return (this == obj);
  ```





## Objects

**==对象工具类，用来操作对象==**

其中的方法都是空指针安全的。

常用方法：

- `equals`

  ```java
  boolean equals(Object obj1, Object obj2);
  ```





## String

**==字符串类==**

包路径：`java.lang`

Java 中，以 "" 字面量创建的字符串均是 String 类的实例。

字符串被创建后就不可更改，是常量。

字面量创建的字符串会被保存在**==字符串常量池==**（堆）中，用于共享。

String 底层实现使用的是 byte[]。

```java
private final byte[] value;
```

构造：

```java
String();
// 空串

String(byte[] bytes);

String(char[] value);

String(byte[] bytes, Charset charset);
// 使用指定的 charset 解码指定的 byte 数组

String(StringBuffer buffer) 
// 字符串缓冲区构造
    
String(String original);
// 字符串构造
```

比较：（两个 String 直接 == 比较，比较的是栈上保存的地址值）

```java
boolean equals(Object anObject);
// 将此字符串与指定的对象比较
    
boolean equalsIgnoreCase(String anotherString);
// 将此字符串与指定的对象比较，不考虑大小写

boolean regionMatches(int toffset, String other, int ooffset, int len);
boolean regionMatches(boolean ignoreCase, int toffset, String other, int ooffset, int len) 
// 测试两个字符串区域是否相等
```

一般这样调用：（防止空指针异常）

```java
"123".equals(str);
```

获取：

```java
char charAt(int index);
// 返回指定索引处的字符

int length();
// 获取字符串长度的

boolean isEmpty();
// 是否为空串
```

查找：

```java
// 正找
int indexOf(char ch);
// 从 0 开始正找字符 ch，返回第一次出现的位置，未找到你返回 -1
int indexOf(char ch, int formIndex);
// 从索引 formIndex 处开始正找字符 ch，返回第一次出现的位置，未找到返回 -1

int indexOf(String str);
// 从 0 开始正找子串 str，返回第一次出现的位置，未找到你返回 -1
int indexOf(String str, int formIndex);
// 从索引 formIndex 处开始正找子串 str，返回第一次出现的位置，未找到返回 -1


// 倒找
int lastIndexOf(char ch);
// 从 0 开始倒找字符 ch，返回第一次出现的位置，未找到你返回 -1
int lastIndexOf(char ch, int formIndex);
// 从索引 formIndex 处开始倒找字符 ch，返回第一次出现的位置，未找到返回 -1

int lastIndexOf(String str);
// 从 0 开始倒找子串 str，返回第一次出现的位置，未找到你返回 -1
int lastIndexOf(String str, int formIndex);
// 从索引 formIndex 处开始倒找子串 str，返回第一次出现的位置，未找到返回 -1


boolean matches(String regex);
// 正则匹配
```

截取：

```java
String substring(int index);
// 从索引 index 处截取到串尾
String substring(int begin, int end);
// 截取索引区间 [begin, end) 的子串


String[] split(String regex, int limit);
// 通过给定的正则表达式对串进行拆分，返回一个数组
String[] split(String regex, int limit);
// 通过给定的正则表达式对串进行拆分，返回一个数组，limit 控制数组的最大长度
```

转换：

```java
char[] toCharArray();
// 将此字符串转换为一个新的字符数组

byte[] getBytes(String charsetName);
// 使用指定的字符集将此 String 编码为 byte 序列
    
String toLowerCase();
// 转换为小写

String toUpperCase();
// 转换为大写

String trim();
// 去除串头和尾的空白符
```

替换：

```java
String replace(CharSequence target, CharSequence replacement);
// 使用指定的字面值替换序列替换此字符串所有匹配字面值目标序列的子字符串。 
    
String replaceAll(String regex, String replacement);
// 使用给定的 replacement 替换此字符串所有匹配给定的正则表达式的子字符串。 
    
String replaceFirst(String regex, String replacement);
// 使用给定的 replacement 替换此字符串匹配给定的正则表达式的第一个子字符串。 
```

!!! 注意，对于一些接收正则的参数，我们在转义时，应先转义`\`，后跟要转义的字符。

例如：

```java
"\\." -> "\."
```





## StringBuilder

**==可变的字符串类==**





## Scanner

**==用于输入==**

包路径：`java.util`

**==在 java.lang 包下的包不需要手动导入==**

构造：

```java
Scanner scanner = new Scanner(System.in);
```

输入数据：

```java
String next(); 
// 读入下一个字符串

int nextInt(); 
// 读入下一个整行
// ... nextDouble, nextFloat, nextBoolean...
```

判断数据：

```java
boolean hasNext(); 
// 下一个读入的数据是否可以认为是字符串

boolean hasNextInt(); 
// 下一个读入的数据是否可以认为是 int
// ... hasNextDouble, hasNextFloat, hasNextBoolean...
```





## Random

**==用于生成随机数==**

包路径：`java.util`

构造：

```java
Random(); 
// 不指定 seed

Random(long seed); 
// 指定 seed
```

生成随机值：

```java
int nextInt();  
// 生成一个随机数

boolean nextBoolean(); 
// 生产一个随机布尔值
// ... nextDouble, nextFloat...

// 重载形式
int nextInt(int bound);
// 生成一个位于 [01, bound) 中的 int
```

置随机数：

```java
void setSeed(long seed);
```





## ArrayList

### 对象数组

引入：对象数组

```java
Class[] arr = new Class[10];
// 此时 arr 指向一个连续的十个指向 null 的指针
```

可以依次构造：

```java
arr[0] = new Class();
// 将指针 arr[0] 指向实例数据
```

但数组无法边长和变短，很麻烦。





### ArrayList\<E\>（集合）

**==可变长度数组==**

包路径：`java.util`

构造：

```java
ArrayList();
// 构造一个初始容量为 10 的空列表

ArrayList(int initialCapacity);
// 构造一个具有指定初始容量的空列表

ArrayList(Collection<? extends E> c);
// 构造一个包含指定 collection 的元素的列表，这些元素是按照该 collection 的迭代器返回它们的顺序排列的。
```

插入：

```java
boolean add(E element);
// 尾插

void add(int index, E element);
// 将指定的元素插入此列表中的指定位置

boolean addAll(int index, Collection<? extends E> c);
// 从指定的位置开始，将指定 collection 中的所有元素插入到此列表中

boolean addAll(int index, Collection<? extends E> c);
// 从指定的位置开始，将指定 collection 中的所有元素插入到此列表中
```

删除：

```java
boolean remove(int index);
// 移除指定位置上的元素

boolean remove(E element);
// 移除首次出现的指定元素


    
 
void clear();
// 清空容器
```

修改：

```java
 E set(int index, E element);
// 用指定的元素替代指定位置上的元素 
```

查找：

```java
boolean contains(E element);
// 是否包含指定的元素

boolean isEmpty();
// 容器是否为空

int indexOf(E element);
// 正找元素，返回索引，未找到返回 -1

int lastIndexOf(E element);
// 倒找元素，返回索引，未找到返回 -1

int size();
// 返回元素数。
```

容量：

```java
void ensureCapacity(int minCapacity);
// 提前扩容，在此后防止不必要的自动扩容开销

void trimToSize();
// 收缩容量
```

拷贝：

```java
ArrayList<E> clone();
// 返回当前容器的浅拷贝
```





## 包装类

**==基本类型的包装==**

包路径：`java.lang`

Byte，Short，Integer，Long，Float，Double，Character，Boolean

可用于数组对象的元素。





## Arrays

**==与数组相关的工具类==**

包路径：`java.util`

内部封装了大量静态方法对数组进行操作。

常用 API：

toString：

```java
String toString(type[] array);
// 以可读方式输出数组内容
```

排序：

```java
void sort(type[] array);
// 排序，质变算法
```

查找：

```java
int binarySearch(type[] arr, type key);
// 二分查找，返回索引，未找到返回一个负数
// ！！！注意，调用前需要排序

// 还有一个重载形式
int binarySearch(short[] a, int fromIndex, int toIndex, short key);
// 指定范围进行查找
```

填充：

```java
void fill(type[] arr, type val);
// 用 val 填充指定数组

void fill(type[] a, int fromIndex, int toIndex, type val);
// 用 val 填充指定数组的指定范围

```





## Math

**==数学工具类==**

包路径：`java.util`

常用 API：

```java
double ceil(double a);
// 向上取整

double floor(double a);
// 向下取整

long round(double a); 
int round(float a);
// 四舍五入到个位
```



